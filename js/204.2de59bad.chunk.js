"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[204],{3583:(e,t,i)=>{i.d(t,{A:()=>o});i(65043);const o=i.p+"static/media/marketika defullt.7ba899dccbc85f4ffaadd4300f6c1069.svg"},12110:(e,t,i)=>{i.d(t,{A:()=>f});var o=i(89379),n=i(80045),a=i(65043),r=i(58387),l=i(98610),s=i(34535),d=i(98206),c=i(61596),u=i(92532),x=i(72372);function v(e){return(0,x.Ay)("MuiCard",e)}(0,u.A)("MuiCard",["root"]);var p=i(70579);const h=["className","raised"],m=(0,s.Ay)(c.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})({overflow:"hidden"}),f=a.forwardRef((function(e,t){const i=(0,d.b)({props:e,name:"MuiCard"}),{className:a,raised:s=!1}=i,c=(0,n.A)(i,h),u=(0,o.A)((0,o.A)({},i),{},{raised:s}),x=(e=>{const{classes:t}=e;return(0,l.A)({root:["root"]},v,t)})(u);return(0,p.jsx)(m,(0,o.A)({className:(0,r.A)(x.root,a),elevation:s?8:void 0,ref:t,ownerState:u},c))}))},18942:(e,t,i)=>{i.d(t,{A:()=>a});var o=i(66734),n=i(70579);const a=(0,o.A)((0,n.jsx)("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28z"}),"StarBorder")},20326:(e,t,i)=>{i.d(t,{A:()=>G});var o=i(89379),n=i(65043),a=i(26240),r=i(54552),l=i(43845),s=i(2828),d=i(78185),c=i(26494),u=i(77739),x=i(17392),v=i(94496),p=i(36591),h=i(30815),m=i(15244),f=i(77466),A=i(51387),g=i(48920),b=i(70141),y=i(99010),j=i(3583),w=i(73216),C=i(33943),k=i(83003),S=i(84589),z=i(40884),I=i(70579);const D=e=>{const t="number"===typeof e?e:parseFloat(e)||0;return new Intl.NumberFormat("fa-IR").format(t)+" \u062a\u0648\u0645\u0627\u0646"},q=e=>{var t,i,q,G,J,U;let{product:Y,loading:$,ClassName:K}=e;const Q=(0,k.wA)(),X=(0,w.Zp)(),ee=(0,a.A)(),te=(0,r.A)(ee.breakpoints.down("sm")),{user:ie,token:oe}=(0,k.d4)((e=>e.auth)),ne=(0,k.d4)(z.selectCartItems),ae=(0,k.d4)((e=>e.cart.cartLoadingStates[null===Y||void 0===Y?void 0:Y._id]||!1)),[re,le]=((0,k.d4)((e=>e.products.loadingStates[null===Y||void 0===Y?void 0:Y._id]||!1)),(0,n.useState)(!1)),[se,de]=(0,n.useState)(!1),[ce,ue]=(0,n.useState)({isInCart:!1,quantity:0,item:null}),xe=(null===Y||void 0===Y||null===(t=Y.likes)||void 0===t?void 0:t.includes(null===ie||void 0===ie?void 0:ie.id))||!1,ve=(null===Y||void 0===Y||null===(i=Y.likes)||void 0===i?void 0:i.length)||0,pe=parseFloat((null===Y||void 0===Y||null===(q=Y.price)||void 0===q?void 0:q.$numberDecimal)||(null===Y||void 0===Y?void 0:Y.price)||0);(0,n.useEffect)((()=>{const e=ne.find((e=>{var t;return(null===e||void 0===e||null===(t=e.product)||void 0===t?void 0:t._id)===(null===Y||void 0===Y?void 0:Y._id)}));ue({isInCart:!!e,quantity:(null===e||void 0===e?void 0:e.quantity)||0,item:e||null})}),[ne,null===Y||void 0===Y?void 0:Y._id]);const he=(0,n.useCallback)((async e=>{if(e.stopPropagation(),de(!0),oe){try{await Q((0,S.GB)({productId:null===Y||void 0===Y?void 0:Y._id,userId:null===ie||void 0===ie?void 0:ie.id,isCurrentlyLiked:xe})).unwrap()}catch(t){console.error("\u062e\u0637\u0627 \u062f\u0631 \u0639\u0645\u0644\u06cc\u0627\u062a \u0644\u0627\u06cc\u06a9:",t)}de(!1)}else X("/auth")}),[null===Y||void 0===Y?void 0:Y._id,null===ie||void 0===ie?void 0:ie.id,oe,X,xe,Q]),me=(0,n.useCallback)((async e=>{if(e.stopPropagation(),e.preventDefault(),!oe)return X("/auth");if(!ae){ue((e=>({isInCart:!0,quantity:e.quantity+1,item:e.item||{_id:"temp-".concat(Date.now()),product:Y,quantity:e.quantity+1,priceAtAddition:pe}})));try{await Q((0,z.addItemToCart)({userId:null===ie||void 0===ie?void 0:ie.id,productId:null===Y||void 0===Y?void 0:Y._id,quantity:1})).unwrap()}catch(t){ue((e=>(0,o.A)((0,o.A)({},e),{},{isInCart:e.quantity>0,quantity:Math.max(0,e.quantity),item:e.quantity>0?e.item:null}))),console.error("\u062e\u0637\u0627 \u062f\u0631 \u0627\u0641\u0632\u0648\u062f\u0646 \u0628\u0647 \u0633\u0628\u062f \u062e\u0631\u06cc\u062f:",t)}}}),[Y,null===ie||void 0===ie?void 0:ie.id,oe,X,Q,ae,pe]),fe=(0,n.useCallback)((async e=>{if(e.stopPropagation(),e.preventDefault(),oe&&!ae){ue((e=>(0,o.A)((0,o.A)({},e),{},{quantity:Math.max(0,e.quantity-1),isInCart:e.quantity>1})));try{await Q((0,z.addItemToCart)({userId:null===ie||void 0===ie?void 0:ie.id,productId:null===Y||void 0===Y?void 0:Y._id,quantity:-1})).unwrap()}catch(t){ue((e=>(0,o.A)((0,o.A)({},e),{},{quantity:e.quantity+1,isInCart:!0}))),console.error("\u062e\u0637\u0627 \u062f\u0631 \u06a9\u0627\u0647\u0634 \u062a\u0639\u062f\u0627\u062f \u0645\u062d\u0635\u0648\u0644:",t)}}}),[null===Y||void 0===Y?void 0:Y._id,null===ie||void 0===ie?void 0:ie.id,oe,Q,ae]),Ae=(0,n.useCallback)((async e=>{if(e.stopPropagation(),e.preventDefault(),oe&&!ae&&ce.item){ue({isInCart:!1,quantity:0,item:null});try{await Q((0,z.removeItemFromCart)(ce.item._id)).unwrap()}catch(t){ue({isInCart:!0,quantity:ce.quantity,item:ce.item}),console.error("\u062e\u0637\u0627 \u062f\u0631 \u062d\u0630\u0641 \u0645\u062d\u0635\u0648\u0644:",t)}}}),[ce,Q,ae,oe]),ge=(0,n.useCallback)((()=>{const e=parseInt((null===Y||void 0===Y?void 0:Y.stock)||0);return e<=0?(0,I.jsx)(l.A,{label:"\u0646\u0627\u0645\u0648\u062c\u0648\u062f",size:"small",color:"error",sx:{mr:1,mb:1}}):e<5?(0,I.jsx)(l.A,{label:"\u062a\u0646\u0647\u0627 ".concat(e," \u0639\u062f\u062f \u0628\u0627\u0642\u06cc \u0645\u0627\u0646\u062f\u0647"),size:"small",color:"warning",sx:{mr:1,mb:1}}):null}),[null===Y||void 0===Y?void 0:Y.stock]),be=(0,n.useCallback)((()=>le(!0)),[]),ye=(0,n.useCallback)((()=>{X("/productPage/".concat(null===Y||void 0===Y?void 0:Y._id))}),[null===Y||void 0===Y?void 0:Y._id,X]);if($)return(0,I.jsxs)(s.A,{className:"card ".concat(K),sx:P,children:[(0,I.jsx)(d.A,{variant:"rectangular",height:200}),(0,I.jsxs)(c.A,{children:[(0,I.jsx)(d.A,{variant:"text",width:"60%"}),(0,I.jsx)(d.A,{variant:"text"}),(0,I.jsx)(d.A,{variant:"text",width:"40%"})]})]});const je=ce.item?ce.item.priceAtAddition*ce.quantity:pe*ce.quantity;return(0,I.jsxs)(s.A,{className:"Card ".concat(K),sx:R,onClick:ye,children:[(0,I.jsx)(u.A,{title:xe?"\u062d\u0630\u0641 \u0627\u0632 \u0639\u0644\u0627\u0642\u0647\u200c\u0645\u0646\u062f\u06cc\u200c\u0647\u0627":"\u0627\u0641\u0632\u0648\u062f\u0646 \u0628\u0647 \u0639\u0644\u0627\u0642\u0647\u200c\u0645\u0646\u062f\u06cc\u200c\u0647\u0627",children:(0,I.jsxs)(x.A,{"aria-label":"toggle favorite",onClick:he,sx:M,children:[(0,I.jsx)(v.A,{variant:"body2",component:"div",sx:{ml:.5},children:ve}),xe?(0,I.jsx)(m.A,{sx:N(se)}):(0,I.jsx)(f.A,{})]})}),(0,I.jsx)(s.A,{className:"img",sx:_,children:(0,I.jsx)(p.A,{component:"img",height:te?"150px":"200px",src:re?j.A:"".concat(C.T,"/").concat(null===Y||void 0===Y||null===(G=Y.images)||void 0===G?void 0:G[0]),alt:null===Y||void 0===Y?void 0:Y.name,sx:F,onError:be,placeholder:"blur",loading:"lazy"})}),(0,I.jsxs)(c.A,{sx:H,children:[(0,I.jsx)(v.A,{variant:"body2",component:"div",sx:L,children:(null===Y||void 0===Y?void 0:Y.name)||"\u0628\u062f\u0648\u0646 \u0639\u0646\u0648\u0627\u0646"}),(0,I.jsxs)(h.A,{sx:{mt:1},children:[ge(),(0,I.jsx)(l.A,{label:"".concat((null===Y||void 0===Y||null===(J=Y.category)||void 0===J?void 0:J.name)||"\u0628\u062f\u0648\u0646 \u062f\u0633\u062a\u0647\u200c\u0628\u0646\u062f\u06cc"),size:"small",sx:{mr:1,mb:1}}),(0,I.jsx)(l.A,{label:"".concat((null===Y||void 0===Y||null===(U=Y.subCategory)||void 0===U?void 0:U.name)||"\u0628\u062f\u0648\u0646 \u062f\u0633\u062a\u0647\u200c\u0628\u0646\u062f\u06cc"),size:"small",sx:{mr:1,mb:1}})]}),(0,I.jsxs)(h.A,{sx:T,children:[(0,I.jsx)(v.A,{variant:"body2",sx:E,children:D(pe)}),ce.isInCart?(0,I.jsxs)(h.A,{sx:B,children:[(0,I.jsx)(x.A,{"aria-label":"\u062d\u0630\u0641 \u0645\u062d\u0635\u0648\u0644",onClick:Ae,disabled:ae,size:"small",sx:W,children:(0,I.jsx)(A.A,{fontSize:"small"})}),(0,I.jsx)(x.A,{"aria-label":"\u06a9\u0627\u0647\u0634 \u062a\u0639\u062f\u0627\u062f",onClick:fe,disabled:ae||ce.quantity<=1,size:"small",sx:W,children:(0,I.jsx)(g.A,{fontSize:"small"})}),(0,I.jsx)(v.A,{variant:"body2",sx:O,children:ce.quantity}),(0,I.jsx)(x.A,{"aria-label":"\u0627\u0641\u0632\u0627\u06cc\u0634 \u062a\u0639\u062f\u0627\u062f",onClick:me,disabled:ae,size:"small",sx:W,children:(0,I.jsx)(b.A,{fontSize:"small"})})]}):(0,I.jsx)(u.A,{title:"\u0627\u0641\u0632\u0648\u062f\u0646 \u0628\u0647 \u0633\u0628\u062f \u062e\u0631\u06cc\u062f",children:(0,I.jsx)(x.A,{"aria-label":"\u0627\u0641\u0632\u0648\u062f\u0646 \u0628\u0647 \u0633\u0628\u062f \u062e\u0631\u06cc\u062f",onClick:me,disabled:ae,sx:Z,children:(0,I.jsx)(y.A,{fontSize:"medium",sx:{padding:"2px"}})})}),ce.isInCart&&(0,I.jsx)(v.A,{variant:"body2",sx:V,children:D(je)})]})]})]})},P={position:"relative",height:400,width:250,borderRadius:"0px"},R={position:"relative",maxHeight:"max-content",boxShadow:"none",padding:"5px",display:"flex",width:{xs:"100%",sm:"250px"},flexDirection:"column",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-4px)",background:"#52575D",">:nth-child(3)":{"*":{color:"#fff"}}}},M={position:"absolute",top:1,right:1,zIndex:1,color:"#fff",display:"flex",alignItems:"center",padding:"5px 10px",background:"#52575D",borderRadius:"5px"},N=e=>({transform:e?"scale(1.1)":"scale(1)",transition:".5s ease",color:e?"#ff4081":"inherit"}),_={background:"#fff",borderRadius:"8px"},F={objectFit:"contain",padding:"5px"},H={flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"5px",width:"100%"},L={mb:1,fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical"},T={mt:2,display:"flex",flexDirection:"column"},E={p:1,color:"#52575D",fontWeight:"bold"},B={display:"flex",alignItems:"center",gap:.5,background:"#52575D",borderRadius:"20px",padding:"5px 10px",color:"#fff",alignSelf:"flex-end",m:1},W={color:"#fff",padding:"4px","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},O={minWidth:"20px",textAlign:"center",fontWeight:"bold"},V={alignSelf:"flex-end",fontSize:"0.8rem",color:"#666",mt:.5},Z={p:1,color:"#fff",background:"#52575D",alignSelf:"flex-end","&:hover":{background:"#52575D"},"&:disabled":{background:"#e0e0e0",color:"#9e9e9e"}},G=(0,n.memo)(q)},47393:(e,t,i)=>{i.d(t,{A:()=>s});var o=i(65043),n=i(74975),a=(i(44014),i(62193),i(72692)),r=i(70579);function l(e){let{children:t,className:i,direction:l="horizontal"}=e;const s=(0,o.useRef)(null);return(0,r.jsx)(n.RC,{ref:s,direction:l,effect:"coverflow",coverflowEffect:{rotate:20,stretch:5,depth:100,modifier:1,slideShadows:!1},slidesPerView:"auto",freeMode:!0,scrollbar:{hide:!0,draggable:!0},mousewheel:{forceToAxis:!0,sensitivity:100},modules:[a.t9,a.U1,a.Ze,a.FJ],className:"mySwiper ".concat(i||""),style:{"--swiper-perspective":"1000px","--swiper-3d-rotate":"10deg"},spaceBetween:"horizontal"===l?40:16,grabCursor:!0,children:o.Children.map(t,((e,t)=>(0,r.jsx)(n.qr,{style:{width:"horizontal"===l?"auto":"100%",height:"vertical"===l?"auto":"100%",transformStyle:"preserve-3d",backfaceVisibility:"hidden"},children:(0,r.jsx)("div",{style:{transform:"translateZ(10px)",height:"100%"},children:e})},t)))})}const s=o.memo(l)},53719:(e,t,i)=>{i.r(t),i.d(t,{default:()=>E});var o,n=i(89379),a=i(65043),r=i(73216),l=i(83003),s=i(26240),d=i(54552),c=i(30815),u=i(94496),x=i(40794),v=i(14194),p=i(40695),h=i(40884),m=i(84589),f=i(57528);const A=i(1529).Ay.div(o||(o=(0,f.A)(["\n  gap: 30px;\n  width: 100%;\n  display: grid;\n  overflow:hidden;\n  overflow-y: scroll;\n  align-items:center;\n  justify-content:center;\n  margin:0;\n  height: calc(100dvh - 100px);\n\n  &::-webkit-scrollbar {\n    width: 5px;\n    background: #eee;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: #ffa05c;\n  }\n\n  @media (max-width: 768px) {\n    height: calc(100dvh - 100px);\n  gap: 10px;\n\n  }\n\n"])));var g=i(68903),b=i(12110),y=i(26494),j=i(81045),w=i(66734),C=i(70579);const k=(0,w.A)((0,C.jsx)("path",{d:"M19 5v14H5V5zm1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9M11 7h6v2h-6zm0 4h6v2h-6zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"}),"ListAlt");var S=i(18942);const z=(0,w.A)((0,C.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"History"),I=()=>{var e,t,i;const{user:o}=(0,l.d4)((e=>e.auth));return(0,C.jsx)(g.Ay,{className:"AuthStep",item:!0,xs:12,md:4,sx:{bgcolor:"#fcfcfc"},children:(0,C.jsx)(b.A,{sx:{position:"sticky",top:80,bgcolor:"transparent",boxShadow:"none"},children:(0,C.jsxs)(y.A,{children:[(0,C.jsxs)(c.A,{sx:{display:"flex",alignItems:"center",mb:3,gap:"20px"},children:[(0,C.jsx)(j.A,{component:"div",variant:"img",src:null===o||void 0===o?void 0:o.profilePicture,sx:{width:100,height:100,mb:2,border:"3px solid",borderColor:"#FFA05C"}}),(0,C.jsxs)(c.A,{children:[(0,C.jsx)(u.A,{variant:"body2",component:"div",children:null===o||void 0===o?void 0:o.username}),(0,C.jsx)(u.A,{variant:"p",component:"div",children:null===o||void 0===o?void 0:o.email})]})]}),(0,C.jsx)(c.A,{container:!0,spacing:2,sx:{mb:2,display:"flex",alignItems:"center",justifyContent:"space-around"},children:[{icon:(0,C.jsx)(k,{}),value:(null===o||void 0===o||null===(e=o.orders)||void 0===e?void 0:e.length)||0,label:"\u0633\u0641\u0627\u0631\u0634\u0627\u062a"},{icon:(0,C.jsx)(S.A,{}),value:(null===o||void 0===o||null===(t=o.wishlist)||void 0===t?void 0:t.length)||0,label:"\u067e\u0633\u0646\u062f\u06cc\u062f\u0647\u200c\u0647\u0627"},{icon:(0,C.jsx)(z,{}),value:(null===o||void 0===o||null===(i=o.history)||void 0===i?void 0:i.length)||0,label:"\u062a\u0627\u0631\u06cc\u062e\u0686\u0647"}].map(((e,t)=>(0,C.jsx)(g.Ay,{item:!0,xs:6,children:(0,C.jsxs)(c.A,{sx:{textAlign:"center"},children:[(0,C.jsx)(u.A,{variant:"body2",sx:{mb:.5},children:e.value}),(0,C.jsxs)(c.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:[a.cloneElement(e.icon,{fontSize:"small",sx:{mr:1}}),(0,C.jsx)(u.A,{variant:"p",children:e.label})]})]})},t)))})]})})})};var D=i(81637),q=i(83625),P=i(24056),R=i(35721),M=i(71322),N=i(48734),_=i(43845),F=i(47393),H=i(20326);i(63197);const L=e=>{var t,i,o;let{activeTab:n,handleTabChange:r,renderEmptyState:s,isMobile:d}=e;const[x,v]=(0,a.useState)(!1),{user:p}=(0,l.d4)((e=>e.auth)),{products:h}=(0,l.d4)((e=>e.products));(0,l.wA)();return x?(0,C.jsx)(c.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:(0,C.jsx)(D.A,{})}):(0,C.jsx)(c.A,{item:!0,xs:12,md:8,children:(0,C.jsxs)(b.A,{sx:{bgcolor:"transparent",boxShadow:"none"},children:[(0,C.jsx)(F.A,{children:(0,C.jsx)(c.A,{className:"AuthStep",sx:{width:"max-content",bgcolor:"#fcfcfc"},children:(0,C.jsxs)(q.A,{value:n,onChange:r,sx:{borderBottom:1,borderColor:"divider",width:"max-content"},children:[(0,C.jsx)(P.A,{icon:(0,C.jsx)(k,{fontSize:"small"}),sx:{display:"flex",gap:"5px"},iconPosition:"start",label:"\u0633\u0641\u0627\u0631\u0634\u0627\u062a",value:"orders"}),(0,C.jsx)(P.A,{icon:(0,C.jsx)(S.A,{fontSize:"small"}),sx:{display:"flex",gap:"5px"},iconPosition:"start",label:"\u067e\u0633\u0646\u062f\u06cc\u062f\u0647\u200c\u0647\u0627",value:"wishlist"}),(0,C.jsx)(P.A,{icon:(0,C.jsx)(z,{fontSize:"small"}),sx:{display:"flex",gap:"5px"},iconPosition:"start",label:"\u062a\u0627\u0631\u06cc\u062e\u0686\u0647",value:"history"})]})})}),(0,C.jsxs)(c.A,{sx:{padding:"10px 0"},children:["orders"===n&&((null===p||void 0===p||null===(t=p.orders)||void 0===t?void 0:t.length)>0?(0,C.jsx)(R.A,{disablePadding:!0,children:p.orders.map((e=>(0,C.jsxs)(M.Ay,{divider:!0,children:[(0,C.jsx)(N.A,{primary:"\u0633\u0641\u0627\u0631\u0634 #".concat(e._id.slice(-6)),secondary:"\u062a\u0627\u0631\u06cc\u062e: ".concat(new Date(e.createdAt).toLocaleDateString("fa-IR"))}),(0,C.jsxs)(c.A,{sx:{display:"flex",flexDirection:"column",alignItems:"end"},children:[(0,C.jsx)(_.A,{label:e.status,color:"\u062a\u062d\u0648\u06cc\u0644 \u0634\u062f\u0647"===e.status?"success":"\u062f\u0631 \u062d\u0627\u0644 \u067e\u0631\u062f\u0627\u0632\u0634"===e.status?"warning":"default",size:"small",sx:{mb:1}}),(0,C.jsxs)(u.A,{variant:"body2",children:[e.totalAmount.toLocaleString()," \u062a\u0648\u0645\u0627\u0646"]})]})]},e._id)))}):s((0,C.jsx)(k,{sx:{color:"action.disabled"}}),"\u0647\u06cc\u0686 \u0633\u0641\u0627\u0631\u0634\u06cc \u062b\u0628\u062a \u0646\u0634\u062f\u0647 \u0627\u0633\u062a")),"wishlist"===n&&((null===p||void 0===p||null===(i=p.wishlist)||void 0===i?void 0:i.length)>0?(0,C.jsx)(g.Ay,{container:!0,spacing:1,children:null===p||void 0===p?void 0:p.wishlist.map((e=>{const t=h.find((t=>t._id===e));return t&&(0,C.jsx)(H.A,{product:t})}))}):s((0,C.jsx)(S.A,{sx:{color:"action.disabled"}}),"\u0647\u06cc\u0686 \u0645\u062d\u0635\u0648\u0644\u06cc \u067e\u0633\u0646\u062f\u06cc\u062f\u0647 \u0646\u0634\u062f\u0647 \u0627\u0633\u062a")),"history"===n&&((null===p||void 0===p||null===(o=p.history)||void 0===o?void 0:o.length)>0?(0,C.jsx)(R.A,{disablePadding:!0,children:p.history.map((e=>(0,C.jsxs)(M.Ay,{divider:!0,children:[(0,C.jsx)(N.A,{primary:e.productName,secondary:"\u062a\u0627\u0631\u06cc\u062e: ".concat(new Date(e.date).toLocaleDateString("fa-IR"))}),(0,C.jsx)(u.A,{variant:"body2",color:"text.secondary",children:"\u0645\u0634\u0627\u0647\u062f\u0647 \u0645\u062d\u0635\u0648\u0644"})]},e._id)))}):s((0,C.jsx)(z,{sx:{color:"action.disabled"}}),"\u0647\u06cc\u0686 \u062a\u0627\u0631\u06cc\u062e\u0686\u0647\u200c\u0627\u06cc \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f"))]})]})})};var T=i(24882);const E=()=>{const e=(0,r.Zp)(),t=(0,l.wA)(),i=(0,s.A)(),o=(0,d.A)(i.breakpoints.down("sm")),{user:f,loading:g}=(0,l.d4)((e=>e.auth)),{products:b,loading:y}=(0,l.d4)((e=>e.products)),[j,w]=(0,a.useState)("orders"),[k,S]=(0,a.useState)({open:!1,message:"",severity:"success"}),z=(0,a.useCallback)((function(e){S({open:!0,message:e,severity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})}),[]),D=(0,a.useCallback)((i=>{var o,n;(console.error("Error:",i),401===(null===i||void 0===i||null===(o=i.response)||void 0===o?void 0:o.status))?(t((0,p.ri)()),z("Session expired. Please login again.","error"),setTimeout((()=>e("/auth")),2e3)):z((null===i||void 0===i||null===(n=i.response)||void 0===n?void 0:n.message)||i.message||"An error occurred","error")}),[t,e,z]);(0,a.useEffect)((()=>{(async()=>{try{await t((0,p.Pl)()).unwrap(),await t((0,h.fetchCart)()).unwrap(),await t((0,m.j0)()).unwrap()}catch(e){D(e)}})()}),[t,D]);const q=()=>{S((e=>(0,n.A)((0,n.A)({},e),{},{open:!1})))};return g||y?(0,C.jsx)(T.A,{fullScreen:!0}):f?(0,C.jsxs)(A,{children:[(0,C.jsx)(c.A,{sx:{width:"100%"},children:(0,C.jsxs)(c.A,{sx:{display:"flex",flexDirection:"column"},children:[(0,C.jsx)(I,{}),(0,C.jsx)(L,{activeTab:j,handleTabChange:(e,t)=>{w(t)},renderEmptyState:(e,t)=>(0,C.jsxs)(c.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"200px",color:"text.secondary"},children:[a.cloneElement(e,{sx:{fontSize:50,mb:2}}),(0,C.jsx)(u.A,{variant:"body2",component:"div",children:t})]}),isMobile:o})]})}),(0,C.jsx)(x.A,{open:k.open,autoHideDuration:6e3,onClose:q,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,C.jsx)(v.A,{onClose:q,severity:k.severity,sx:{width:"100%"},variant:"filled",children:k.message})})]}):(0,C.jsx)(c.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,C.jsx)(u.A,{variant:"h6",children:"Loading user data..."})})}},81045:(e,t,i)=>{i.d(t,{A:()=>j});var o=i(80045),n=i(89379),a=i(65043),r=i(58387),l=i(98610),s=i(34535),d=i(52094),c=i(98206),u=i(66734),x=i(70579);const v=(0,u.A)((0,x.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var p=i(92532),h=i(72372);function m(e){return(0,h.Ay)("MuiAvatar",e)}(0,p.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var f=i(4162);const A=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],g=(0,s.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[i.variant],i.colorDefault&&t.colorDefault]}})((0,d.A)((e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:(0,n.A)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:(0,n.A)({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]}}))),b=(0,s.Ay)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),y=(0,s.Ay)(v,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});const j=a.forwardRef((function(e,t){const i=(0,c.b)({props:e,name:"MuiAvatar"}),{alt:s,children:d,className:u,component:v="div",slots:p={},slotProps:h={},imgProps:j,sizes:w,src:C,srcSet:k,variant:S="circular"}=i,z=(0,o.A)(i,A);let I=null;const D=(0,n.A)((0,n.A)({},i),{},{component:v,variant:S}),q=function(e){let{crossOrigin:t,referrerPolicy:i,src:o,srcSet:n}=e;const[r,l]=a.useState(!1);return a.useEffect((()=>{if(!o&&!n)return;l(!1);let e=!0;const a=new Image;return a.onload=()=>{e&&l("loaded")},a.onerror=()=>{e&&l("error")},a.crossOrigin=t,a.referrerPolicy=i,a.src=o,n&&(a.srcset=n),()=>{e=!1}}),[t,i,o,n]),r}((0,n.A)((0,n.A)((0,n.A)({},j),"function"===typeof h.img?h.img(D):h.img),{},{src:C,srcSet:k})),P=C||k,R=P&&"error"!==q;D.colorDefault=!R,delete D.ownerState;const M=(e=>{const{classes:t,variant:i,colorDefault:o}=e,n={root:["root",i,o&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,l.A)(n,m,t)})(D),[N,_]=(0,f.A)("img",{className:M.img,elementType:b,externalForwardedProps:{slots:p,slotProps:{img:(0,n.A)((0,n.A)({},j),h.img)}},additionalProps:{alt:s,src:C,srcSet:k,sizes:w},ownerState:D});return I=R?(0,x.jsx)(N,(0,n.A)({},_)):d||0===d?d:P&&s?s[0]:(0,x.jsx)(y,{ownerState:D,className:M.fallback}),(0,x.jsx)(g,(0,n.A)((0,n.A)({as:v,className:(0,r.A)(M.root,u),ref:t},z),{},{ownerState:D,children:I}))}))}}]);
//# sourceMappingURL=204.2de59bad.chunk.js.map