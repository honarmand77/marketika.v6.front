"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[463],{3583:(i,n,e)=>{e.d(n,{A:()=>t});e(65043);const t=e.p+"static/media/marketika defullt.7ba899dccbc85f4ffaadd4300f6c1069.svg"},20326:(i,n,e)=>{e.d(n,{A:()=>V});var t=e(89379),a=e(65043),o=e(26240),l=e(54552),r=e(43845),s=e(2828),d=e(78185),c=e(26494),x=e(77739),u=e(17392),p=e(94496),m=e(36591),h=e(30815),v=e(15244),f=e(77466),g=e(51387),b=e(48920),y=e(70141),A=e(99010),w=e(3583),j=e(73216),C=e(33943),k=e(83003),I=e(84589),q=e(40884),S=e(70579);const z=i=>{const n="number"===typeof i?i:parseFloat(i)||0;return new Intl.NumberFormat("fa-IR").format(n)+" \u062a\u0648\u0645\u0627\u0646"},_=i=>{var n,e,_,V,Y,G;let{product:J,loading:$,ClassName:K}=i;const Q=(0,k.wA)(),X=(0,j.Zp)(),ii=(0,o.A)(),ni=(0,l.A)(ii.breakpoints.down("sm")),{user:ei,token:ti}=(0,k.d4)((i=>i.auth)),ai=(0,k.d4)(q.selectCartItems),oi=(0,k.d4)((i=>i.cart.cartLoadingStates[null===J||void 0===J?void 0:J._id]||!1)),[li,ri]=((0,k.d4)((i=>i.products.loadingStates[null===J||void 0===J?void 0:J._id]||!1)),(0,a.useState)(!1)),[si,di]=(0,a.useState)(!1),[ci,xi]=(0,a.useState)({isInCart:!1,quantity:0,item:null}),ui=(null===J||void 0===J||null===(n=J.likes)||void 0===n?void 0:n.includes(null===ei||void 0===ei?void 0:ei.id))||!1,pi=(null===J||void 0===J||null===(e=J.likes)||void 0===e?void 0:e.length)||0,mi=parseFloat((null===J||void 0===J||null===(_=J.price)||void 0===_?void 0:_.$numberDecimal)||(null===J||void 0===J?void 0:J.price)||0);(0,a.useEffect)((()=>{const i=ai.find((i=>{var n;return(null===i||void 0===i||null===(n=i.product)||void 0===n?void 0:n._id)===(null===J||void 0===J?void 0:J._id)}));xi({isInCart:!!i,quantity:(null===i||void 0===i?void 0:i.quantity)||0,item:i||null})}),[ai,null===J||void 0===J?void 0:J._id]);const hi=(0,a.useCallback)((async i=>{if(i.stopPropagation(),di(!0),ti){try{await Q((0,I.GB)({productId:null===J||void 0===J?void 0:J._id,userId:null===ei||void 0===ei?void 0:ei.id,isCurrentlyLiked:ui})).unwrap()}catch(n){console.error("\u062e\u0637\u0627 \u062f\u0631 \u0639\u0645\u0644\u06cc\u0627\u062a \u0644\u0627\u06cc\u06a9:",n)}di(!1)}else X("/auth")}),[null===J||void 0===J?void 0:J._id,null===ei||void 0===ei?void 0:ei.id,ti,X,ui,Q]),vi=(0,a.useCallback)((async i=>{if(i.stopPropagation(),i.preventDefault(),!ti)return X("/auth");if(!oi){xi((i=>({isInCart:!0,quantity:i.quantity+1,item:i.item||{_id:"temp-".concat(Date.now()),product:J,quantity:i.quantity+1,priceAtAddition:mi}})));try{await Q((0,q.addItemToCart)({userId:null===ei||void 0===ei?void 0:ei.id,productId:null===J||void 0===J?void 0:J._id,quantity:1})).unwrap()}catch(n){xi((i=>(0,t.A)((0,t.A)({},i),{},{isInCart:i.quantity>0,quantity:Math.max(0,i.quantity),item:i.quantity>0?i.item:null}))),console.error("\u062e\u0637\u0627 \u062f\u0631 \u0627\u0641\u0632\u0648\u062f\u0646 \u0628\u0647 \u0633\u0628\u062f \u062e\u0631\u06cc\u062f:",n)}}}),[J,null===ei||void 0===ei?void 0:ei.id,ti,X,Q,oi,mi]),fi=(0,a.useCallback)((async i=>{if(i.stopPropagation(),i.preventDefault(),ti&&!oi){xi((i=>(0,t.A)((0,t.A)({},i),{},{quantity:Math.max(0,i.quantity-1),isInCart:i.quantity>1})));try{await Q((0,q.addItemToCart)({userId:null===ei||void 0===ei?void 0:ei.id,productId:null===J||void 0===J?void 0:J._id,quantity:-1})).unwrap()}catch(n){xi((i=>(0,t.A)((0,t.A)({},i),{},{quantity:i.quantity+1,isInCart:!0}))),console.error("\u062e\u0637\u0627 \u062f\u0631 \u06a9\u0627\u0647\u0634 \u062a\u0639\u062f\u0627\u062f \u0645\u062d\u0635\u0648\u0644:",n)}}}),[null===J||void 0===J?void 0:J._id,null===ei||void 0===ei?void 0:ei.id,ti,Q,oi]),gi=(0,a.useCallback)((async i=>{if(i.stopPropagation(),i.preventDefault(),ti&&!oi&&ci.item){xi({isInCart:!1,quantity:0,item:null});try{await Q((0,q.removeItemFromCart)(ci.item._id)).unwrap()}catch(n){xi({isInCart:!0,quantity:ci.quantity,item:ci.item}),console.error("\u062e\u0637\u0627 \u062f\u0631 \u062d\u0630\u0641 \u0645\u062d\u0635\u0648\u0644:",n)}}}),[ci,Q,oi,ti]),bi=(0,a.useCallback)((()=>{const i=parseInt((null===J||void 0===J?void 0:J.stock)||0);return i<=0?(0,S.jsx)(r.A,{label:"\u0646\u0627\u0645\u0648\u062c\u0648\u062f",size:"small",color:"error",sx:{mr:1,mb:1}}):i<5?(0,S.jsx)(r.A,{label:"\u062a\u0646\u0647\u0627 ".concat(i," \u0639\u062f\u062f \u0628\u0627\u0642\u06cc \u0645\u0627\u0646\u062f\u0647"),size:"small",color:"warning",sx:{mr:1,mb:1}}):null}),[null===J||void 0===J?void 0:J.stock]),yi=(0,a.useCallback)((()=>ri(!0)),[]),Ai=(0,a.useCallback)((()=>{X("/productPage/".concat(null===J||void 0===J?void 0:J._id))}),[null===J||void 0===J?void 0:J._id,X]);if($)return(0,S.jsxs)(s.A,{className:"card ".concat(K),sx:D,children:[(0,S.jsx)(d.A,{variant:"rectangular",height:200}),(0,S.jsxs)(c.A,{children:[(0,S.jsx)(d.A,{variant:"text",width:"60%"}),(0,S.jsx)(d.A,{variant:"text"}),(0,S.jsx)(d.A,{variant:"text",width:"40%"})]})]});const wi=ci.item?ci.item.priceAtAddition*ci.quantity:mi*ci.quantity;return(0,S.jsxs)(s.A,{className:"Card ".concat(K),sx:R,onClick:Ai,children:[(0,S.jsx)(x.A,{title:ui?"\u062d\u0630\u0641 \u0627\u0632 \u0639\u0644\u0627\u0642\u0647\u200c\u0645\u0646\u062f\u06cc\u200c\u0647\u0627":"\u0627\u0641\u0632\u0648\u062f\u0646 \u0628\u0647 \u0639\u0644\u0627\u0642\u0647\u200c\u0645\u0646\u062f\u06cc\u200c\u0647\u0627",children:(0,S.jsxs)(u.A,{"aria-label":"toggle favorite",onClick:hi,sx:N,children:[(0,S.jsx)(p.A,{variant:"body2",component:"div",sx:{ml:.5},children:pi}),ui?(0,S.jsx)(v.A,{sx:T(si)}):(0,S.jsx)(f.A,{})]})}),(0,S.jsx)(s.A,{className:"img",sx:E,children:(0,S.jsx)(m.A,{component:"img",height:ni?"150px":"200px",src:li?w.A:"".concat(C.T,"/").concat(null===J||void 0===J||null===(V=J.images)||void 0===V?void 0:V[0]),alt:null===J||void 0===J?void 0:J.name,sx:F,onError:yi,placeholder:"blur",loading:"lazy"})}),(0,S.jsxs)(c.A,{sx:P,children:[(0,S.jsx)(p.A,{variant:"body2",component:"div",sx:W,children:(null===J||void 0===J?void 0:J.name)||"\u0628\u062f\u0648\u0646 \u0639\u0646\u0648\u0627\u0646"}),(0,S.jsxs)(h.A,{sx:{mt:1},children:[bi(),(0,S.jsx)(r.A,{label:"".concat((null===J||void 0===J||null===(Y=J.category)||void 0===Y?void 0:Y.name)||"\u0628\u062f\u0648\u0646 \u062f\u0633\u062a\u0647\u200c\u0628\u0646\u062f\u06cc"),size:"small",sx:{mr:1,mb:1}}),(0,S.jsx)(r.A,{label:"".concat((null===J||void 0===J||null===(G=J.subCategory)||void 0===G?void 0:G.name)||"\u0628\u062f\u0648\u0646 \u062f\u0633\u062a\u0647\u200c\u0628\u0646\u062f\u06cc"),size:"small",sx:{mr:1,mb:1}})]}),(0,S.jsxs)(h.A,{sx:B,children:[(0,S.jsx)(p.A,{variant:"body2",sx:M,children:z(mi)}),ci.isInCart?(0,S.jsxs)(h.A,{sx:O,children:[(0,S.jsx)(u.A,{"aria-label":"\u062d\u0630\u0641 \u0645\u062d\u0635\u0648\u0644",onClick:gi,disabled:oi,size:"small",sx:U,children:(0,S.jsx)(g.A,{fontSize:"small"})}),(0,S.jsx)(u.A,{"aria-label":"\u06a9\u0627\u0647\u0634 \u062a\u0639\u062f\u0627\u062f",onClick:fi,disabled:oi||ci.quantity<=1,size:"small",sx:U,children:(0,S.jsx)(b.A,{fontSize:"small"})}),(0,S.jsx)(p.A,{variant:"body2",sx:Z,children:ci.quantity}),(0,S.jsx)(u.A,{"aria-label":"\u0627\u0641\u0632\u0627\u06cc\u0634 \u062a\u0639\u062f\u0627\u062f",onClick:vi,disabled:oi,size:"small",sx:U,children:(0,S.jsx)(y.A,{fontSize:"small"})})]}):(0,S.jsx)(x.A,{title:"\u0627\u0641\u0632\u0648\u062f\u0646 \u0628\u0647 \u0633\u0628\u062f \u062e\u0631\u06cc\u062f",children:(0,S.jsx)(u.A,{"aria-label":"\u0627\u0641\u0632\u0648\u062f\u0646 \u0628\u0647 \u0633\u0628\u062f \u062e\u0631\u06cc\u062f",onClick:vi,disabled:oi,sx:L,children:(0,S.jsx)(A.A,{fontSize:"medium",sx:{padding:"2px"}})})}),ci.isInCart&&(0,S.jsx)(p.A,{variant:"body2",sx:H,children:z(wi)})]})]})]})},D={position:"relative",height:400,width:250,borderRadius:"0px"},R={position:"relative",maxHeight:"max-content",boxShadow:"none",padding:"5px",display:"flex",width:{xs:"100%",sm:"250px"},flexDirection:"column",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-4px)",background:"#52575D",">:nth-child(3)":{"*":{color:"#fff"}}}},N={position:"absolute",top:1,right:1,zIndex:1,color:"#fff",display:"flex",alignItems:"center",padding:"5px 10px",background:"#52575D",borderRadius:"5px"},T=i=>({transform:i?"scale(1.1)":"scale(1)",transition:".5s ease",color:i?"#ff4081":"inherit"}),E={background:"#fff",borderRadius:"8px"},F={objectFit:"contain",padding:"5px"},P={flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"5px",width:"100%"},W={mb:1,fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical"},B={mt:2,display:"flex",flexDirection:"column"},M={p:1,color:"#52575D",fontWeight:"bold"},O={display:"flex",alignItems:"center",gap:.5,background:"#52575D",borderRadius:"20px",padding:"5px 10px",color:"#fff",alignSelf:"flex-end",m:1},U={color:"#fff",padding:"4px","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},Z={minWidth:"20px",textAlign:"center",fontWeight:"bold"},H={alignSelf:"flex-end",fontSize:"0.8rem",color:"#666",mt:.5},L={p:1,color:"#fff",background:"#52575D",alignSelf:"flex-end","&:hover":{background:"#52575D"},"&:disabled":{background:"#e0e0e0",color:"#9e9e9e"}},V=(0,a.memo)(_)},47393:(i,n,e)=>{e.d(n,{A:()=>s});var t=e(65043),a=e(74975),o=(e(44014),e(62193),e(72692)),l=e(70579);function r(i){let{children:n,className:e,direction:r="horizontal"}=i;const s=(0,t.useRef)(null);return(0,l.jsx)(a.RC,{ref:s,direction:r,effect:"coverflow",coverflowEffect:{rotate:20,stretch:5,depth:100,modifier:1,slideShadows:!1},slidesPerView:"auto",freeMode:!0,scrollbar:{hide:!0,draggable:!0},mousewheel:{forceToAxis:!0,sensitivity:100},modules:[o.t9,o.U1,o.Ze,o.FJ],className:"mySwiper ".concat(e||""),style:{"--swiper-perspective":"1000px","--swiper-3d-rotate":"10deg"},spaceBetween:"horizontal"===r?40:16,grabCursor:!0,children:t.Children.map(n,((i,n)=>(0,l.jsx)(a.qr,{style:{width:"horizontal"===r?"auto":"100%",height:"vertical"===r?"auto":"100%",transformStyle:"preserve-3d",backfaceVisibility:"hidden"},children:(0,l.jsx)("div",{style:{transform:"translateZ(10px)",height:"100%"},children:i})},n)))})}const s=t.memo(r)},71434:(i,n,e)=>{e.d(n,{U:()=>S,A:()=>q});var t,a,o,l=e(65043),r=e(26240),s=e(54552),d=e(2828),c=e(30815),x=e(78185),u=e(94496),p=e(17392),m=e(36591),h=(e(3583),e(70170)),v=e.n(h),f=e(57528),g=e(1529);const b=g.Ay.div(t||(t=(0,f.A)(["\n\nwidth: 100%;\n\n  margin:0 auto;\n  position: relative;\n  display:flex;\n  align-items:center;\n  flex-direction:row;\n  justify-content:center;\n  padding:5px;\nmax-height:calc(500px - 10vh + 25vw);\n.css-1m9128y{\n  display:none;\n}\n\n\n.catswip{\n  width:max-content;\nheight:calc(200px - 10vh + 20vw);\n  @media (max-width: 780px){\n    width:100vw;\nheight:max-content;\n\n  }\n}\n  @media (max-width: 780px){\n    width:100vw;\n    max-height:calc(500px - 10vh + 10vw);\ndisplay:flex;\n  flex-direction:column;\n}\n"]))),y=g.Ay.div(a||(a=(0,f.A)(["\n  width:100%;\n  display:flex;\n  flex-direction:column;\n  height:max-content;\n    @media (max-width: 780px){\n  flex-direction:row;\n  height:100%;\n  width:max-content;\n\n}\n"])));g.Ay.div(o||(o=(0,f.A)(["\n  border-radius: 10px;\n  width:100%;\n  padding:5px;\n  height:max-content;\n  display:grid;\n    cursor:grab;\n  align-items:flex-start;\n  transition: transform 0.3s, background-color 0.3s;\n  user-select: none;\n  max-height:200px;\n  &:hover {\n    transform: scale(1.05);\n  }\n  @media (max-width: 780px){\n    gap:5px;\n  display:grid;\n  grid-template-columns:1fr 1fr;\n}\n"])));var A=e(47393),w=e(73216),j=e(87332),C=e(33943),k=e(83003),I=e(70579);function q(){const[i,n]=(0,l.useState)(!1),e=(0,r.A)(),t=(0,s.A)(e.breakpoints.down("sm")),a=(0,l.useCallback)((()=>n(!0)),[]),{banners:o,loading:x}=(0,k.d4)((i=>i.banners));return(0,I.jsxs)(b,{children:[(0,I.jsx)(v(),{animation:"fade",duration:800,interval:3e3,navButtonsAlwaysVisible:!0,indicators:t,sx:{width:"100%",height:t?"200px":"100%",borderRadius:"10px"},children:x?Array(4).fill(0).map(((i,n)=>(0,I.jsx)(d.A,{sx:{width:"100%",height:t?"200px":"450px",backgroundColor:"#cccccc50",borderRadius:"10px"}},n))):null===o||void 0===o?void 0:o.map(((i,n)=>(0,I.jsx)(c.A,{component:"img",src:"".concat(C.T,"/").concat(null===i||void 0===i?void 0:i.imageUrl),alt:"banner-".concat(n),onError:a,crossOrigin:"anonymous",placeholder:"blur",loading:"lazy",sx:{width:"100%",height:t?"200px":"450px",objectFit:"".concat(null!==i&&void 0!==i&&i.imageUrl?"cover":"contain"),aspectRatio:t?"3/4":"4/16",objectPosition:"center",borderRadius:"10px",bgcolor:"#fff"}},n)))}),(0,I.jsx)(S,{})]})}function S(i){let{className:n}=i;const e=(0,w.Zp)(),t=(0,r.A)(),a=(0,s.A)(t.breakpoints.down("sm")),[o,h]=(0,l.useState)(!1),v=(0,l.useCallback)((()=>h(!0)),[]),{categories:f,loading:g}=(0,k.d4)((i=>i.categories));return(0,I.jsx)(A.A,{className:"".concat(n," catswip"),direction:a?"horizontal":"vertical",children:(0,I.jsx)(y,{className:"horcatch",children:g?Array(10).fill(0).map(((i,n)=>(0,I.jsx)(d.A,{elevation:3,className:"Card",sx:{width:"100%",padding:"5px",display:"grid",gridTemplateColumns:"1fr",cursor:"grab",height:"100%",alignItems:"flex-start",userSelect:"none",maxHeight:a?"120px":"160px",bgcolor:"#ffffff10","&:hover":{transform:"translateY(-4px)"}},children:(0,I.jsxs)(c.A,{style:{height:"100%",display:"grid",alignItems:"center",width:"100%",gap:"5px"},children:[(0,I.jsx)(x.A,{variant:"text",width:"90%",sx:{bgcolor:"#cccccc50"}}),(0,I.jsx)(x.A,{variant:"rectangular",height:90,sx:{borderRadius:"10px",width:"320px",bgcolor:"#cccccc50"}},n)]})},n))):null===f||void 0===f?void 0:f.map(((i,n)=>{var t;return(0,I.jsxs)(d.A,{elevation:3,className:"Card",sx:{width:"100%",padding:"5px",height:"100%",display:"flex",flexWrap:"wrap",cursor:"grab",alignItems:"flex-start",transition:"transform 0.3s, background-color 0.3s",userSelect:"none",maxHeight:a?"220px":"280px","&:hover":{transform:"translateY(-4px)",".MuiTypography-body2 , svg":{color:"#fff"},background:" #393E46",">:nth-child(3)":{"*":{color:"#fff"}}}},children:[(0,I.jsxs)(c.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[(0,I.jsx)(u.A,{variant:"body2",sx:{color:"#333"},children:i.name||"\u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc"}),(0,I.jsx)(p.A,{sx:{p:.5,color:"#393E46"},onClick:()=>{return n=i.name,void e("/".concat(n));var n},children:(0,I.jsx)(j.A,{sx:{p:.5,color:"#393E46"}})})]}),(0,I.jsxs)(c.A,{sx:{display:"grid",gridTemplateColumns:a?".5fr 1fr":"1fr",background:"#ffffff",height:"100%",borderRadius:"8px",width:"100%",alignItems:"center"},children:[(0,I.jsx)(m.A,{component:"img",height:"70px",width:"70px",image:"".concat(C.T,"/").concat(null===i||void 0===i?void 0:i.image_url),crossOrigin:"anonymous",alt:i.name||"\u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc",onError:v,placeholder:"blur",loading:"lazy",sx:{objectFit:"contain",margin:"auto"}}),(0,I.jsx)(c.A,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",p:1,height:"100%"},children:null===i||void 0===i||null===(t=i.subCategories.slice(0,4))||void 0===t?void 0:t.map(((n,t)=>(0,I.jsx)(d.A,{elevation:1,className:"subcard",sx:{padding:"5px",bgcolor:"#fcfcfc",textAlign:"center",borderRadius:"5px",color:"#444",height:"100%","&:hover":{background:"#393E46","*":{color:"#fff"}}},children:(0,I.jsx)(u.A,{variant:"p",sx:{color:"#333"},onClick:()=>{return t=n.name,a=i.name,void e("/".concat(a,"/").concat(t));var t,a},children:(null===n||void 0===n?void 0:n.name)||"\u0632\u06cc\u0631 \u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc"})},t)))})]})]},n)}))})})}}}]);
//# sourceMappingURL=463.2522a96f.chunk.js.map