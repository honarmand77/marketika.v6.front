{"version":3,"file":"static/js/761.b1eb51bd.chunk.js","mappings":"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","sources":["pages/Products/Products.style.jsx","pages/Products/Products.jsx"],"sourcesContent":["import styled, { keyframes } from \"styled-components\";\r\n\r\n\r\nexport const Products_Container = styled.div`\r\n  width: 100%;\r\n  display: grid;\r\n  align-items:flex-start;\r\n  justify-content:center;\r\n  margin:0;\r\n  height: calc(100dvh - 10px);\r\n  padding-bottom:150px;\r\n  z-index:1001;\r\n  @media (max-width: 768px) {\r\n    height: calc(100dvh - 100px);\r\n\r\n  }\r\n\r\n`;\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  FormControlLabel,\r\n  Checkbox,\r\n  Typography,\r\n  Box,\r\n  Chip,\r\n  FormGroup,\r\n  Radio,\r\n  RadioGroup,\r\n  FormControl,\r\n  Skeleton,\r\n  useTheme,\r\n  useMediaQuery,\r\n  Stack,\r\n  IconButton,\r\n  Paper,\r\n  Collapse,\r\n  Divider,\r\n  Fab,\r\n  Button\r\n} from '@mui/material';\r\nimport TuneIcon from '@mui/icons-material/Tune';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport { CategoriesContainer } from '../../components/BannerSlider/BannerSlider';\r\nimport { categoryData } from '../../api/categories';\r\nimport { subcategoriesData } from '../../api/subcategories';\r\nimport ProductCard from '../../components/ProductCard/ProductCard';\r\nimport { motion } from 'framer-motion';\r\nimport { Pie } from 'react-chartjs-2';\r\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from 'chart.js';\r\nimport { Products_Container } from \"./Products.style\";\r\nimport { useSelector } from 'react-redux';\r\nimport { \r\n  selectAllSubcategories,\r\n} from '../../redux/reducers/subcategoriesSlice';\r\nimport { \r\n  selectAllCategories,\r\n} from '../../redux/reducers/categoriesSlice';\r\n\r\nChartJS.register(ArcElement, Tooltip, Legend);\r\n\r\nexport default function Products() {\r\n  const theme = useTheme();\r\n  const [categories, setCategories] = useState([\r\n    {subCategories:[1,2,3,4]},\r\n    {subCategories:[1,2,3,4]},\r\n    {subCategories:[1,2,3,4]},\r\n    {subCategories:[1,2,3,4]},\r\n    {subCategories:[1,2,3,4]},\r\n  ]\r\n  );\r\n  const [subCategories, setSubCategories] = useState([]);\r\n  const [selectedCategories, setSelectedCategories] = useState([]);\r\n  const [selectedSubCategories, setSelectedSubCategories] = useState([]);\r\n  const [priceBuckets, setPriceBuckets] = useState([]);\r\n  const [selectedPriceBuckets, setSelectedPriceBuckets] = useState([]);\r\n  const [sortBy, setSortBy] = useState('');\r\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\r\n  const [filterPanelOpen, setFilterPanelOpen] = useState(false);\r\n  const [expandedSection, setExpandedSection] = useState(null);\r\n  const { products , loading} = useSelector(state => state.products);\r\n  const categoriesData = useSelector(selectAllCategories);\r\n  const subcategoriesData = useSelector(selectAllSubcategories);\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        setCategories(categoriesData);\r\n        // ایجاد لیست کامل زیردسته‌ها با اطلاعات دسته‌بندی والد\r\n        const enrichedSubCategories = subcategoriesData?.map(sub => {\r\n          const parentCategory = categoriesData.find(cat => \r\n            cat.subCategories?.some(sc => sc._id === sub._id)\r\n          );\r\n          return {\r\n            _id: sub._id,\r\n            name: sub.name,\r\n            categoryId: parentCategory?._id,\r\n            categoryName: parentCategory?.name\r\n          };\r\n        });\r\n        setSubCategories(enrichedSubCategories);\r\n\r\n        // ایجاد دسته‌های قیمتی هوشمند\r\n        const validPrices = products\r\n          .map(p => p.price)\r\n          .filter(price => price > 0)\r\n          .sort((a, b) => a - b);\r\n\r\n        // اگر محصولی وجود ندارد، دسته‌بندی پیش‌فرض ایجاد کن\r\n        if (validPrices.length === 0) {\r\n          const defaultBuckets = [\r\n            { id: 'bucket-0', start: 0, end: 100000, count: 0, label: 'تا ۱۰۰ هزار تومان' },\r\n            { id: 'bucket-1', start: 100000, end: 500000, count: 0, label: '۱۰۰ تا ۵۰۰ هزار تومان' },\r\n            { id: 'bucket-2', start: 500000, end: 1000000, count: 0, label: '۵۰۰ هزار تا ۱ میلیون تومان' },\r\n            { id: 'bucket-3', start: 1000000, end: 2000000, count: 0, label: '۱ تا ۲ میلیون تومان' },\r\n            { id: 'bucket-4', start: 2000000, end: 5000000, count: 0, label: 'بیش از ۲ میلیون تومان' }\r\n          ];\r\n          setPriceBuckets(defaultBuckets);\r\n          return;\r\n        }\r\n\r\n        const minPrice = Math.floor(validPrices[0]);\r\n        const maxPrice = Math.ceil(validPrices[validPrices.length - 1]);\r\n        \r\n        // تعیین محدوده‌های قیمتی بر اساس توزیع واقعی محصولات\r\n        const priceRanges = [\r\n          { min: 0, max: 1000000 },\r\n          { min: 1000000, max: 5000000 },\r\n          { min: 5000000, max: 20000000 },\r\n          { min: 20000000, max: 50000000 },\r\n          { min: 50000000, max: Infinity }\r\n        ];\r\n\r\n        const buckets = priceRanges.map((range, index) => {\r\n          const productsInRange = products.filter(p => \r\n            p.price && p.price >= range.min && p.price <= range.max\r\n          );\r\n          \r\n          let label = '';\r\n          if (range.max === Infinity) {\r\n            label = `بیش از ${(range.min/1000000).toFixed(0)} میلیون تومان`;\r\n          } else if (range.max >= 1000000) {\r\n            label = `${(range.min/1000000).toFixed(0)} تا ${(range.max/1000000).toFixed(0)} میلیون تومان`;\r\n          } else if (range.max >= 1000) {\r\n            label = `${(range.min/1000).toFixed(0)} تا ${(range.max/1000).toFixed(0)} هزار تومان`;\r\n          } else {\r\n            label = `تا ${range.max.toLocaleString()} تومان`;\r\n          }\r\n\r\n          return {\r\n            id: `bucket-${index}`,\r\n            start: range.min,\r\n            end: range.max === Infinity ? maxPrice : range.max,\r\n            count: productsInRange.length,\r\n            label: label\r\n          };\r\n        });\r\n\r\n        setPriceBuckets(buckets);\r\n      } catch (error) {\r\n        console.error('Error loading data:', error);\r\n      } \r\n    };\r\n    loadData();\r\n  }, [subcategoriesData]);\r\n\r\n  // داده‌های چارت دایره‌ای با برچسب‌های خوانا\r\n  const priceChartData = {\r\n    labels: priceBuckets.map(bucket => bucket.label),\r\n    datasets: [\r\n      {\r\n        data: priceBuckets.map(bucket => bucket.count),\r\n        backgroundColor: [\r\n          '#FF6384', // قرمز\r\n          '#36A2EB', // آبی\r\n          '#FFCE56', // زرد\r\n          '#4BC0C0', // فیروزه‌ای\r\n          '#9966FF', // بنفش\r\n          '#FF9F40', // نارنجی\r\n          '#8AC24A', // سبز\r\n          '#F06292', // صورتی\r\n          '#7986CB', // آبی خاکستری\r\n          '#4DB6AC'  // سبز آبی\r\n        ],\r\n        hoverBackgroundColor: [\r\n          '#FF6384',\r\n          '#36A2EB',\r\n          '#FFCE56',\r\n          '#4BC0C0',\r\n          '#9966FF',\r\n          '#FF9F40',\r\n          '#8AC24A',\r\n          '#F06292',\r\n          '#7986CB',\r\n          '#4DB6AC'\r\n        ],\r\n        borderWidth: 1,\r\n      }\r\n    ]\r\n  };\r\n\r\n  // بقیه توابع و کدها بدون تغییر مانند قبل...\r\n  const handleCategoryChange = (categoryId) => {\r\n    setSelectedCategories(prev => \r\n      prev.includes(categoryId) \r\n        ? prev.filter(id => id !== categoryId) \r\n        : [...prev, categoryId]\r\n    );\r\n    \r\n    if (selectedCategories.includes(categoryId)) {\r\n      const subCatsToRemove = subCategories\r\n        .filter(sub => sub.categoryId === categoryId)\r\n        .map(sub => sub._id);\r\n      \r\n      setSelectedSubCategories(prev => \r\n        prev.filter(id => !subCatsToRemove.includes(id))\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleSubCategoryChange = (subCategoryId) => {\r\n    setSelectedSubCategories(prev => \r\n      prev.includes(subCategoryId)\r\n        ? prev.filter(id => id !== subCategoryId)\r\n        : [...prev, subCategoryId]\r\n    );\r\n    \r\n    if (!selectedSubCategories.includes(subCategoryId)) {\r\n      const subCategory = subCategories.find(sub => sub._id === subCategoryId);\r\n      if (subCategory && !selectedCategories.includes(subCategory.categoryId)) {\r\n        setSelectedCategories(prev => [...prev, subCategory.categoryId]);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handlePriceBucketSelect = (bucketId) => {\r\n    setSelectedPriceBuckets(prev => \r\n      prev.includes(bucketId)\r\n        ? prev.filter(id => id !== bucketId)\r\n        : [...prev, bucketId]\r\n    );\r\n  };\r\n\r\n  const toggleSection = (section) => {\r\n    setExpandedSection(expandedSection === section ? null : section);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!isMobile) {\r\n      setFilterPanelOpen(true);\r\n    }\r\n  }, [isMobile]);\r\n\r\n  const subCategoryCounts = subCategories.reduce((acc, sub) => {\r\n    const count = products.filter(p => \r\n      p.subCategory?._id === sub._id\r\n    ).length;\r\n    return {...acc, [sub._id]: count};\r\n  }, {});\r\n\r\n  const filteredProducts = products\r\n    .filter(product => {\r\n      if (selectedCategories.length > 0 && \r\n          !selectedCategories.includes(product.category?._id)) {\r\n        return false;\r\n      }\r\n\r\n      if (selectedSubCategories.length > 0 && \r\n          (!product.subCategory || !selectedSubCategories.includes(product.subCategory._id))) {\r\n        return false;\r\n      }\r\n\r\n      if (selectedPriceBuckets.length > 0 && product.price) {\r\n        const inSelectedBuckets = selectedPriceBuckets.some(bucketId => {\r\n          const bucket = priceBuckets.find(b => b.id === bucketId);\r\n          return product.price >= bucket.start && product.price <= bucket.end;\r\n        });\r\n        if (!inSelectedBuckets) return false;\r\n      }\r\n\r\n      return true;\r\n    })\r\n    .sort((a, b) => {\r\n      if (sortBy === 'likes') return (b.likes?.length || 0) - (a.likes?.length || 0);\r\n      if (sortBy === 'views') return (b.viewers?.length || 0) - (a.viewers?.length || 0);\r\n      if (sortBy === 'price') return (a.price || 0) - (b.price || 0);\r\n      if (sortBy === 'price-low') return (a.price || 0) - (b.price || 0);\r\n      if (sortBy === 'price-high') return (b.price || 0) - (a.price || 0);\r\n      if (sortBy === 'newest') return (new Date(b.createdAt || 0)) - (new Date(a.createdAt || 0));\r\n\r\n      return 0;\r\n    });\r\n\r\n\r\n  return (\r\n    <Products_Container className=\"scroller\">\r\n      <CategoriesContainer className=\"horcat\" />\r\n      \r\n      {/* نمایش فیلترهای فعال */}\r\n      <Box  sx={{ display: 'flex', gap: 2, padding: \"5px 10px\", flexWrap: 'wrap' }}>\r\n        {selectedCategories.map(catId => {\r\n          const category = categories.find(c => c._id === catId);\r\n          return (\r\n            <Chip\r\n              key={catId}\r\n              label={category?.name}\r\n              onDelete={() => handleCategoryChange(catId)}\r\n              sx={{ color: 'white', p: 1 }}\r\n            />\r\n          );\r\n        })}\r\n        {selectedSubCategories.map(subId => {\r\n          const subCategory = subCategories.find(s => s._id === subId);\r\n          return (\r\n            <Chip\r\n              key={subId}\r\n              label={`${subCategory?.categoryName} - ${subCategory?.name}`}\r\n              onDelete={() => handleSubCategoryChange(subId)}\r\n              sx={{ background: '#393E46', color: 'white', p: 1 }}\r\n            />\r\n          );\r\n        })}\r\n        {selectedPriceBuckets.map(bucketId => {\r\n          const bucket = priceBuckets.find(b => b.id === bucketId);\r\n          return (\r\n            <Chip\r\n              key={bucketId}\r\n              label={bucket?.label}\r\n              onDelete={() => handlePriceBucketSelect(bucketId)}\r\n              sx={{ background: '#393E46', color: 'white', p: 1 }}\r\n            />\r\n          );\r\n        })}\r\n      </Box>\r\n\r\n      {/* دکمه فیلتر برای موبایل */}\r\n      {!filterPanelOpen && (\r\n        <Fab\r\n          aria-label=\"filter\"\r\n          sx={{\r\n            position: 'fixed',\r\n            bottom: isMobile ? '80px' : '30px',\r\n            right: '20px',\r\n            zIndex: 1005,\r\n            background:\"#393E46\",\r\n            boxShadow:0,\r\n            padding:\"2px 10px\",\r\n            borderRadius:\"5px\",\r\n            height:\"35px\",\r\n            width:\"max-content\",\r\n            display:\"flex\",\r\n            alignItems:\"center\",\r\n            gap:\"5px\"\r\n\r\n          }}\r\n          onClick={() => setFilterPanelOpen(true)}\r\n        >\r\n          <TuneIcon fontSize='small' sx={{color:\"#fff\"}}/>\r\n          <Typography variant='p' sx={{color:\"#fff\"}}>فیلترها</Typography>\r\n        </Fab>\r\n      )}\r\n\r\n      {/* پنل فیلتر */}\r\n      <Paper\r\n      className=\"filter\"\r\n        sx={{\r\n          position: 'fixed',\r\n          zIndex: 1005,\r\n          width: isMobile ? '100vw' : '300px',\r\n          height: isMobile ? '70vh' : '100vh',\r\n          right: !isMobile ? (filterPanelOpen ? 0 : -300) : 0,\r\n          bottom: isMobile ? (filterPanelOpen ? 0 : -1000) : 0,\r\n          transition: 'all 0.2s ease-in',\r\n          overflowY: 'auto',\r\n        }}\r\n      >\r\n        <Box sx={{ \r\n          p: 1, \r\n          background:\" #393E46\",\r\n          color: 'white',\r\n          display: 'flex',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center',\r\n        }}>\r\n          <Typography variant=\"h6\">فیلترها</Typography>\r\n          <IconButton color=\"inherit\" onClick={() => setFilterPanelOpen(false)}>\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </Box>\r\n\r\n        {/* بخش دسته‌بندی‌ها */}\r\n        <Box sx={{ p: 2 }}>\r\n          <Box \r\n            sx={{ \r\n              display: 'flex', \r\n              justifyContent: 'space-between', \r\n              alignItems: 'center',\r\n              cursor: 'pointer'\r\n            }}\r\n            onClick={() => toggleSection('categories')}\r\n          >\r\n            <Typography variant=\"subtitle1\">دسته‌بندی‌ها</Typography>\r\n            <Typography>{expandedSection === 'categories' ? '−' : '+'}</Typography>\r\n          </Box>\r\n          <Collapse in={expandedSection === 'categories' || !isMobile}>\r\n            <FormGroup sx={{ mt: 1 }}>\r\n              {categories.map(category => {\r\n                const productCount = products.filter(p => p.category?._id === category._id).length;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={category._id}\r\n                    control={\r\n                      <Checkbox\r\n                        checked={selectedCategories.includes(category._id)}\r\n                        onChange={() => handleCategoryChange(category._id)}\r\n                      />\r\n                    }\r\n                    label={`${category.name} (${productCount})`}\r\n                  />\r\n                );\r\n              })}\r\n            </FormGroup>\r\n          </Collapse>\r\n        </Box>\r\n\r\n\r\n        {/* بخش زیردسته‌ها */}\r\n        <Box sx={{ p: 2 }}>\r\n          <Box \r\n            sx={{ \r\n              display: 'flex', \r\n              justifyContent: 'space-between', \r\n              alignItems: 'center',\r\n              cursor: 'pointer'\r\n            }}\r\n            onClick={() => toggleSection('subcategories')}\r\n          >\r\n            <Typography variant=\"subtitle1\">زیردسته‌ها</Typography>\r\n            <Typography>{expandedSection === 'subcategories' ? '−' : '+'}</Typography>\r\n          </Box>\r\n          <Collapse in={expandedSection === 'subcategories' || !isMobile}>\r\n            <FormGroup sx={{ mt: 1 }}>\r\n              {subCategories\r\n                .filter(sub => \r\n                  selectedCategories.length === 0 || \r\n                  selectedCategories.includes(sub.categoryId)\r\n                )\r\n                .map(sub => (\r\n                  <FormControlLabel\r\n                    key={sub._id}\r\n                    control={\r\n                      <Checkbox\r\n                        checked={selectedSubCategories.includes(sub._id)}\r\n                        onChange={() => handleSubCategoryChange(sub._id)}\r\n                        disabled={subCategoryCounts[sub._id] === 0}\r\n                      />\r\n                    }\r\n                    label={sub.name || \"بدون زیر دسته \"}\r\n                    sx={{\r\n                      opacity: subCategoryCounts[sub._id] === 0 ? 0.5 : 1,\r\n                      ml: 2\r\n                    }}\r\n                  />\r\n                ))}\r\n            </FormGroup>\r\n          </Collapse>\r\n        </Box>\r\n        <Divider />\r\n\r\n        {/* بخش قیمت با چارت دایره‌ای بهبود یافته */}\r\n        <Box sx={{ p: 2 }}>\r\n          <Box \r\n            sx={{ \r\n              display: 'flex', \r\n              justifyContent: 'space-between', \r\n              alignItems: 'center',\r\n              cursor: 'pointer'\r\n            }}\r\n            onClick={() => toggleSection('price')}\r\n          >\r\n            <Typography variant=\"subtitle1\">توزیع قیمت‌ها</Typography>\r\n            <Typography>{expandedSection === 'price' ? '−' : '+'}</Typography>\r\n          </Box>\r\n          <Collapse in={expandedSection === 'price' || !isMobile}>\r\n            <Box sx={{ mt: 2 }}>\r\n              <Typography variant=\"body2\" sx={{ mb: 1 }}>\r\n                {selectedPriceBuckets.length > 0\r\n                  ? `${selectedPriceBuckets.length} محدوده انتخاب شده`\r\n                  : 'برای انتخاب محدوده قیمت روی بخش‌های نمودار کلیک کنید'}\r\n              </Typography>\r\n              \r\n              <Box sx={{ height: '300px', position: 'relative', mb: 2 }}>\r\n                <Pie \r\n                  data={priceChartData} \r\n                  options={{\r\n                    onClick: (event, elements) => {\r\n                      if (elements.length > 0) {\r\n                        const bucketIndex = elements[0].index;\r\n                        const bucketId = priceBuckets[bucketIndex].id;\r\n                        handlePriceBucketSelect(bucketId);\r\n                      }\r\n                    },\r\n                    plugins: {\r\n                      tooltip: {\r\n                        callbacks: {\r\n                          label: (context) => {\r\n                            const label = context.label || '';\r\n                            const value = context.raw || 0;\r\n                            const percentage = Math.round((value / products.length) * 100);\r\n                            return `${label}: ${value} محصول (${percentage}%)`;\r\n                          }\r\n                        }\r\n                      },\r\n                      legend: {\r\n                        position: 'bottom',\r\n                        rtl: true,\r\n                        labels: {\r\n                          usePointStyle: true,\r\n                          boxWidth: 10,\r\n                          padding: 20,\r\n                          font: {\r\n                            family: 'IRANSans',\r\n                            size: isMobile ? 10 : 12\r\n                          }\r\n                        }\r\n                      }\r\n                    },\r\n                    maintainAspectRatio: false\r\n                  }}\r\n                />\r\n              </Box>\r\n\r\n              {selectedPriceBuckets.length > 0 && (\r\n                <Button \r\n                  fullWidth \r\n                  variant=\"outlined\" \r\n                  color=\"error\"\r\n                  onClick={() => setSelectedPriceBuckets([])}\r\n                  sx={{ mt: 2 }}\r\n                >\r\n                  حذف انتخاب‌ها\r\n                </Button>\r\n              )}\r\n            </Box>\r\n          </Collapse>\r\n        </Box>\r\n        <Divider />\r\n\r\n        {/* بخش مرتب‌سازی */}\r\n        <Box sx={{ p: 2 }}>\r\n          <Box \r\n            sx={{ \r\n              display: 'flex', \r\n              justifyContent: 'space-between', \r\n              alignItems: 'center',\r\n              cursor: 'pointer'\r\n            }}\r\n            onClick={() => toggleSection('sort')}\r\n          >\r\n            <Typography variant=\"subtitle1\">مرتب‌سازی</Typography>\r\n            <Typography>{expandedSection === 'sort' ? '−' : '+'}</Typography>\r\n          </Box>\r\n          <Collapse in={expandedSection === 'sort' || !isMobile}>\r\n            <FormControl component=\"fieldset\" sx={{ mt: 1 }}>\r\n              <RadioGroup value={sortBy} onChange={e => setSortBy(e.target.value)}>\r\n                <FormControlLabel value=\"likes\" control={<Radio />} label=\"محبوب‌ترین\" />\r\n                <FormControlLabel value=\"views\" control={<Radio />} label=\"پربازدیدترین\" />\r\n                <FormControlLabel value=\"price-low\" control={<Radio />} label=\"ارزان‌ترین\" />\r\n                <FormControlLabel value=\"price-high\" control={<Radio />} label=\"گران‌ترین\" />\r\n                <FormControlLabel value=\"newest\" control={<Radio />} label=\"جدیدترین\" />\r\n              </RadioGroup>\r\n            </FormControl>\r\n          </Collapse>\r\n        </Box>\r\n      </Paper>\r\n\r\n      {/* لیست محصولات */}\r\n      <Box sx={{ \r\n        width:\"100vw\",\r\n        display: 'grid',\r\n        gridTemplateColumns: isMobile ? '1fr 1fr' : 'repeat(auto-fill, minmax(250px, 1fr))',\r\n        gap: 1,\r\n        p: 2,\r\n        pr: !isMobile && filterPanelOpen ? '320px' : 2,\r\n        transition: 'padding 0.3s ease'\r\n      }}>\r\n        {loading ? (\r\n          Array(12).fill().map((_, i) => (\r\n            <Stack key={i} spacing={1} className=\"Card\" sx={{ bgcolor: \"#ffffff10\", padding: \"5px\", width: \"260px\" }}>\r\n              <Skeleton variant=\"rectangular\" height={200} sx={{ borderRadius: \"2px\", bgcolor: \"#cccccc50\" }} />\r\n              <Skeleton variant=\"text\" sx={{ fontSize: '1rem', bgcolor: \"#cccccc50\", borderRadius: \"2px\" }} />\r\n              <Skeleton variant=\"text\" width=\"60%\" sx={{ fontSize: '1rem', bgcolor: \"#cccccc50\", borderRadius: \"2px\" }}  />\r\n            </Stack>\r\n          ))\r\n        ) : filteredProducts.length === 0 ? (\r\n          <Box sx={{ gridColumn: '1 / -1', textAlign: 'center', py: 4 }}>\r\n            <Typography variant=\"h6\">محصولی یافت نشد</Typography>\r\n            <Button\r\n              variant=\"outlined\"\r\n              sx={{ mt: 2 }}\r\n              onClick={() => {\r\n                setSelectedCategories([]);\r\n                setSelectedSubCategories([]);\r\n                setSelectedPriceBuckets([]);\r\n                setSortBy('');\r\n              }}\r\n            >\r\n              حذف همه فیلترها\r\n            </Button>\r\n          </Box>\r\n        ) : (\r\n          filteredProducts.map(product => (\r\n              <ProductCard product={product} />\r\n          ))\r\n        )}\r\n      </Box>\r\n    </Products_Container>\r\n  );\r\n}"],"names":["Products_Container","styled","div","_templateObject","_taggedTemplateLiteral","Products","theme","useTheme","categories","setCategories","useState","subCategories","setSubCategories","selectedCategories","setSelectedCategories","selectedSubCategories","setSelectedSubCategories","priceBuckets","setPriceBuckets","selectedPriceBuckets","setSelectedPriceBuckets","sortBy","setSortBy","isMobile","useMediaQuery","breakpoints","down","filterPanelOpen","setFilterPanelOpen","expandedSection","setExpandedSection","products","loading","useSelector","state","categoriesData","selectAllCategories","subcategoriesData","selectAllSubcategories","useEffect","async","enrichedSubCategories","map","sub","parentCategory","find","cat","_cat$subCategories","some","sc","_id","name","categoryId","categoryName","validPrices","p","price","filter","sort","a","b","length","id","start","end","count","label","Math","floor","maxPrice","ceil","buckets","min","max","Infinity","range","index","productsInRange","concat","toFixed","toLocaleString","error","console","loadData","priceChartData","labels","bucket","datasets","data","backgroundColor","hoverBackgroundColor","borderWidth","handleCategoryChange","prev","includes","subCatsToRemove","handleSubCategoryChange","subCategoryId","subCategory","handlePriceBucketSelect","bucketId","toggleSection","section","subCategoryCounts","reduce","acc","_p$subCategory","_objectSpread","filteredProducts","product","_product$category","category","_b$likes","_a$likes","_b$viewers","_a$viewers","likes","viewers","Date","createdAt","_jsxs","className","children","_jsx","CategoriesContainer","Box","sx","display","gap","padding","flexWrap","catId","c","Chip","onDelete","color","subId","s","background","Fab","position","bottom","right","zIndex","boxShadow","borderRadius","height","width","alignItems","onClick","TuneIcon","fontSize","Typography","variant","Paper","transition","overflowY","justifyContent","IconButton","CloseIcon","cursor","Collapse","in","FormGroup","mt","productCount","_p$category","FormControlLabel","control","Checkbox","checked","onChange","disabled","opacity","ml","Divider","mb","Pie","options","event","elements","bucketIndex","plugins","tooltip","callbacks","context","value","raw","percentage","round","legend","rtl","usePointStyle","boxWidth","font","family","size","maintainAspectRatio","Button","fullWidth","FormControl","component","RadioGroup","e","target","Radio","gridTemplateColumns","pr","Array","fill","_","i","Stack","spacing","bgcolor","Skeleton","gridColumn","textAlign","py","ProductCard","ChartJS","register","ArcElement","Tooltip","Legend"],"sourceRoot":""}